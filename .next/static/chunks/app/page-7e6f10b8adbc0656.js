(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8400:(e,r,t)=>{Promise.resolve().then(t.bind(t,9106)),Promise.resolve().then(t.bind(t,4880))},9106:(e,r,t)=>{"use strict";t.d(r,{ConvAI:()=>b});var a=t(7437),s=t(2265),n=t(2974),i=t(3027),o=t(4839),l=t(6164);function d(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,l.m6)((0,o.W)(r))}let c=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",xs:"h-6 rounded-md px-3 text-xs",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",xl:"h-12 rounded-lg px-10",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),u=s.forwardRef((e,r)=>{let{className:t,variant:s,size:i,asChild:o=!1,...l}=e,u=o?n.g7:"button";return(0,a.jsx)(u,{className:d(c({variant:s,size:i,className:t})),ref:r,...l})});u.displayName="Button";let m=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:d("rounded-xl border bg-card text-card-foreground shadow",t),...s})});m.displayName="Card";let h=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:d("flex flex-col space-y-1.5 p-6",t),...s})});h.displayName="CardHeader";let g=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:d("font-semibold leading-none tracking-tight",t),...s})});g.displayName="CardTitle",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:d("text-sm text-muted-foreground",t),...s})}).displayName="CardDescription";let f=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:d("p-6 pt-0",t),...s})});f.displayName="CardContent",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:d("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter";var x=t(7965);async function v(){try{return await navigator.mediaDevices.getUserMedia({audio:!0}),!0}catch(e){return console.error("Microphone permission denied"),!1}}async function p(e){try{let r=await fetch("/api/signed-url?agentId=".concat(e));if(!r.ok)throw Error("Failed to get signed URL for agentId: ".concat(e));return(await r.json()).signedUrl}catch(e){throw console.error("Error fetching signed URL:",e),alert("Error: Unable to fetch signed URL. Please try again."),e}}function b(){var e,r,t;let[n,i]=(0,s.useState)(null),[o,l]=(0,s.useState)(!1),[c,b]=(0,s.useState)(!1),[w,j]=(0,s.useState)("M42OrvG5uBBtjFIbK6Km"),[y,N]=(0,s.useState)(!1),k=[{id:"M42OrvG5uBBtjFIbK6Km",flag:"india.svg",country:"India",avatar:"indian.webp"},{id:"DRTTgmlI3BGUfq9hVjSJ",flag:"usa.svg",country:"USA",avatar:"usa's.webp"}];async function C(){if(!await v()){alert("Microphone permission is required to start the conversation.");return}try{let e=await p(w),r=await x.r.startSession({signedUrl:e,onConnect:()=>{l(!0),b(!0)},onDisconnect:()=>{l(!1),b(!1)},onError:e=>{console.error("Conversation Error:",e),alert("An error occurred during the conversation. Please try again.")},onModeChange:e=>{let{mode:r}=e;b("speaking"===r)}});i(r)}catch(e){console.error("Error starting conversation:",e)}}async function _(){n&&(await n.endSession(),i(null),l(!1),b(!1))}return(0,a.jsx)("div",{className:"flex w-full items-center justify-center",children:(0,a.jsx)(m,{className:"relative w-full max-w-4xl rounded-3xl bg-white shadow-2xl transition-transform hover:scale-105",children:(0,a.jsxs)(f,{children:[(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)("div",{className:"relative inline-block text-left",children:[(0,a.jsxs)("button",{className:"inline-flex justify-between items-center px-4 py-2 text-lg font-medium text-gray-700 border border-gray-300 rounded-lg shadow-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-400",onClick:()=>N(e=>!e),children:[(0,a.jsx)("img",{src:null===(e=k.find(e=>e.id===w))||void 0===e?void 0:e.flag,alt:"flag",className:"w-5 h-3 mr-2"}),null===(r=k.find(e=>e.id===w))||void 0===r?void 0:r.country,(0,a.jsx)("span",{className:"ml-2",children:"▼"})]}),y&&(0,a.jsx)("ul",{className:"absolute z-10 mt-2 w-full bg-white border border-gray-300 rounded-lg shadow-lg",children:k.map(e=>(0,a.jsxs)("li",{onClick:()=>{j(e.id),N(!1)},className:"flex items-center px-4 py-2 text-gray-700 cursor-pointer hover:bg-gray-100",children:[(0,a.jsx)("img",{src:e.flag,alt:"".concat(e.country," flag"),className:"w-5 h-3 mr-2"}),e.country]},e.id))})]})}),(0,a.jsx)(h,{children:(0,a.jsx)(g,{className:"text-center text-3xl font-bold tracking-wide text-gray-800 mt-4",children:o?c?"Agent is speaking":"Agent is listening":"Disconnected"})}),(0,a.jsxs)("div",{className:"mt-6 flex flex-col items-center gap-y-6",children:[(0,a.jsx)("div",{style:{animation:n?"pulse 4s infinite":"",opacity:o?1:.7},className:d("relative my-4 flex h-48 w-48 items-center justify-center overflow-hidden rounded-full shadow-lg","transition-all duration-500 transform",c?"animate-orb":n&&"animate-orb-slow",o?"orb-active":"orb-inactive"),children:(0,a.jsx)("img",{src:null===(t=k.find(e=>e.id===w))||void 0===t?void 0:t.avatar,className:"h-full w-full rounded-full object-cover",alt:"Agent Avatar"})}),(0,a.jsx)(u,{variant:"outline",className:"rounded-full px-8 py-4 text-lg font-semibold bg-gradient-to-r from-green-400 via-blue-500 to-purple-500 text-white shadow-lg transition-transform hover:scale-110 focus:ring-4 focus:ring-green-300 disabled:opacity-60",size:"lg",disabled:null!==n&&o,onClick:C,children:"Start Conversation"}),(0,a.jsx)(u,{variant:"outline",className:"rounded-full px-8 py-4 text-lg font-semibold bg-gradient-to-r from-red-500 via-orange-500 to-yellow-500 text-white shadow-lg transition-transform hover:scale-110 focus:ring-4 focus:ring-red-300 disabled:opacity-60",size:"lg",disabled:null===n&&!o,onClick:_,children:"End Conversation"})]})]})})})}},4880:(e,r,t)=>{"use strict";t.d(r,{default:()=>n});var a=t(7437),s=t(2265);function n(){let[e,r]=(0,s.useState)(!1),[t,n]=(0,s.useState)(!1),o=()=>{r(!e)},l={user_id:"ankit1234",contact:0x24cb016ea,user_name:"Ankit Sharma",location:"Mumbai",otp:234567,orders:[{order_id:"ORD001",order_item:"Laptop",status:"Delivered",order_date:"2024-11-25"},{order_id:"ORD002",order_item:"Smartwatch",status:"Processing",order_date:"2024-12-20"}]};return(0,a.jsxs)(a.Fragment,{children:[!e&&(0,a.jsx)("button",{onClick:o,className:"fixed top-4 right-4 p-4 bg-gradient-to-r from-purple-500 via-pink-500 to-red-400 text-white rounded-full shadow-lg hover:scale-105 hover:shadow-xl transition-transform duration-300 z-50 border-2 border-white focus:outline-none focus:ring-4 focus:ring-pink-300","aria-label":"Open FAQ Section",children:"FAQ"}),e&&(0,a.jsxs)("div",{className:"fixed top-0 right-0 bg-gradient-to-br from-purple-50 via-pink-50 to-red-50 shadow-2xl border-l border-pink-300 transform transition-all duration-300 ease-in-out z-50 max-w-xs w-full ".concat(t?"max-h-[calc(100%-4rem)]":"max-h-[calc(100%-8rem)]"),"aria-labelledby":"faq-title",role:"dialog",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-purple-400 via-pink-400 to-red-300 text-white border-b border-pink-300 shadow-md",children:[(0,a.jsx)("h2",{id:"faq-title",className:"text-lg font-bold",children:"FAQ"}),(0,a.jsx)("button",{onClick:o,className:"text-white hover:text-gray-200","aria-label":"Close FAQ Section",children:"✕"})]}),(0,a.jsxs)("div",{className:"p-4 space-y-4 text-gray-800 overflow-y-auto scrollbar-hide",style:{maxHeight:"calc(100vh - 8rem)"},children:[[{question:"I want to know my order status"},{question:"I want to cancel my order"}].map((e,r)=>(0,a.jsx)(i,{question:e.question},r)),(0,a.jsx)("button",{onClick:()=>{n(!t)},className:"mt-4 w-full bg-gradient-to-r from-purple-500 via-pink-500 to-red-400 text-white rounded-md p-2 shadow-md hover:scale-105 hover:shadow-lg transition-transform",children:t?"Hide Sample Data":"Show Sample Data"}),t&&(0,a.jsxs)("div",{className:"mt-2 p-4 bg-gray-100 rounded-md shadow-inner text-sm text-gray-700",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Customer Data:"}),(0,a.jsxs)("ul",{className:"space-y-2",children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"User ID:"})," ",l.user_id]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Contact:"})," ",l.contact]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"User Name:"})," ",l.user_name]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Location:"})," ",l.location]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"OTP:"})," ",l.otp]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Orders:"}),(0,a.jsx)("ul",{className:"ml-4 list-disc",children:l.orders.map((e,r)=>(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Order ID:"})," ",e.order_id,", ",(0,a.jsx)("strong",{children:"Item:"})," ",e.order_item,", ",(0,a.jsx)("strong",{children:"Status:"})," ",e.status,", ",(0,a.jsx)("strong",{children:"Date:"})," ",e.order_date]},r))})]})]})]})]})]})]})}function i(e){let{question:r}=e;return(0,a.jsx)("div",{className:"p-3 bg-white rounded-md shadow-md hover:bg-purple-100 transition-transform transform hover:scale-105",role:"region","aria-labelledby":"faq-question-".concat(r),children:(0,a.jsx)("h3",{id:"faq-question-".concat(r),className:"text-sm font-semibold text-gray-700",children:r})})}}},e=>{var r=r=>e(e.s=r);e.O(0,[387,130,215,744],()=>r(8400)),_N_E=e.O()}]);